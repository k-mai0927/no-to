<nav>
    <a href="https://no-to.net">
        <figure class="nav_logo u-w20"><img src="images/logo_nav.svg" alt="no-to"></figure>
    </a>
    <div class="nav_openbtn js-nav_open">
        <p class="u-family1">menu</p>
        <span></span><span></span><span></span>
    </div>

    <div class="nav_content js-nav_content header">
        <p class="nav_content__item js-nav_accordion u-family1 js-nav_accordion icon_down">撮影プラン</p>
        <div class="nav_accordion__cont js-nav_accordion__cont">
            <a href="/newbornphoto.html/" class="nav_acc_content__item u-family1">ニューボーン</a href="">
            <a href="/wedding.html/" class="nav_acc_content__item u-family1">ウェディング</a href="">
            <a href="/kidsphoto.html/" class="nav_acc_content__item u-family1">キッズ</a href="">
            <a href="/engagementphoto.html/" class="nav_acc_content__item u-family1">エンゲージメント</a href="">
            <a href="/omiyamairiphoto.html/" class="nav_acc_content__item u-family1">お宮参り</a href="">
            <a href="/shiti-go-sanphoto.html/" class="nav_acc_content__item u-family1">七五三</a href="">
            <a href="/seniorphoto.html/" class="nav_acc_content__item u-family1">シニア </a href="">
            <a href="profilephoto.html/" class="nav_acc_content__item u-family1">プロフィール</a href="">
            <a href="eventphoto" class="nav_acc_content__item u-family1">イベント</a href="">
        </div>
        <a href="/albummade.html/" class="nav_content__item u-family1 u-blk">グッズ・アルバム作成</a>
        <a href="/#studio" class="nav_content__item u-family1 js-nav_content__item u-blk">スタジオ</a>
        <a href="/#photo_gallery" class="nav_content__item u-family1 js-nav_content__item u-blk">フォトギャラリー</a>
        <a href="/form.html/" class="nav_content__item u-family1 u-blk">お問い合わせ</a>
    </div>
</nav>

<script>
    $(function () {
        $(".js-nav_content.header").hide();

        $(".js-nav_open").click(function () {
            const $navContent = $('.header.js-nav_content');
            const isActive = $navContent.hasClass('is-active');

            $(this).toggleClass('is-active');

            if (isActive) {
                $navContent.removeClass('is-active').animate(
                    { opacity: 0, paddingBottom: 0 }, // フェードアウトと同時にpadding-bottomを0に
                    300,
                    function () {
                        $navContent.hide(); // アニメーション完了後に非表示
                    }
                );
            } else {
                $navContent.css({ paddingBottom: '570px', opacity: 0 }).show().animate(
                    { opacity: 1 }, 200, // 短いフェードインで即座に表示
                    function () {
                        $navContent.addClass('is-active');
                    }
                );
            }
        });

        $('.js-nav_content__item').click(function () {
            const $navContent = $('.header.js-nav_content'); // スコープ内で再定義
            const $navOpenBtn = $('.js-nav_open');

            // nav_content__item がクリックされたときの処理
            $navOpenBtn.removeClass('is-active'); // ハンバーガーメニューアイコンのクラスを削除
            $navContent.removeClass('is-active').animate(
                { opacity: 0, paddingBottom: 0 }, // フェードアウトと同時にpadding-bottomを0に
                300,
                function () {
                    $navContent.hide(); // アニメーション完了後に非表示
                }
            );
        });

        // メニュー以外をクリックしたときの処理
        $(document).on('click touchend', function (event) {
            const $navContent = $('.header.js-nav_content');
            const $navOpenBtn = $('.js-nav_open');

            // メニューが開いていて、クリック対象がメニューやボタンの外側の場合
            if ($navContent.hasClass('is-active') && !$(event.target).closest($navContent).length && !$(event.target).closest($navOpenBtn).length) {
                $navOpenBtn.removeClass('is-active'); // ハンバーガーメニューアイコンのクラスを削除
                $navContent.removeClass('is-active').animate(
                    { opacity: 0, paddingBottom: 0 }, // フェードアウトと同時にpadding-bottomを0に
                    300,
                    function () {
                        $navContent.hide(); // アニメーション完了後に非表示
                    }
                );
            }
        });
    });

    $(function () {
        $('.header .js-nav_accordion__cont').hide();
        $('.header .js-nav_accordion').click(function () {
            $(this).next('.header .js-nav_accordion__cont').slideToggle();
            $(this).toggleClass('is-active');
        });
    });
</script>
